<link rel="stylesheet" type="text/css" href="../../styles/style.css" />
<link rel="stylesheet" type="text/css" href="../../assets/fonts/font-awesome/css/font-awesome.min.css" />
<script src='../../script/dashboardlogs.js'></script>
<title>Dashboard - LenoxBot</title>
<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a href="https://lenoxbot.com" class="navbar-brand text">LenoxBot</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto" id="mainnavbar">
                <li class="nav-item">
                    <a href="../../home" class="text-size-normal nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="../../documentation" class=" text-size-normal nav-link">Documentation</a>
                </li>
                <li class="nav-item">
                    <a href="https://medium.com/lenoxbot" target="blanc" class=" text-size-normal nav-link">Blog
                        <span class="label label-info">NEW</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="https://lenoxbot.com/invite" target="blanc" class=" text-size-normal nav-link">Invite LenoxBot</a>
                </li>
                <li class="nav-item">
                    <a href="https://lenoxbot.com/discord" target="blanc" class=" text-size-normal nav-link">Discord Server</a>
                </li>
                <li class="nav-item active">
                    {{#if user}}
                    <a href="../../servers" class=" text-size-normal nav-link">Dashboard
                        <span class="label label-danger">ALPHA</span>
                    </a>
                    {{/if}}
                </li>
                <li class="nav-item">
                    {{#if user}}
                    <a href="../../logout" class=" text-size-normal nav-link ">Log out</a>
                    {{ else }}
                    <a href="../../login" class=" text-size-normal nav-link ">Log in</a>
                    {{/if}}
                </li>
            </ul>
        </div>
    </nav>
    </div>
</header>

<main>
    {{#if submitgeneralsettings}}
    <div class="alert alert-success alert-dismissible alert-savedsettings" id="success-alert" style="width: 500px; float:right;">
        <button type="button" class="close" data-dismiss="alert" aria-label="close" aria-hidden="true">&times;</button>
        <span class="text"></span>
        <strong>New settings saved!</strong>
        <hr class="message-inner-separator">
        <p>
            We saved your new settings for {{guilds.name}}</p>
    </div>
    {{/if}}
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
				<p class="text text-white text-size-big">{{guilds.name}}</p>
			</div>
            <div class="col-sm-3">
                <nav class="navbar navbar-dark bg-dark" id="dashboardnav">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#dashboardnavigationbar" aria-controls="dashboardnavigationbar"
					    aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="dashboardnavigationbar">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item nav-link">
                            <a href="/dashboard/{{guilds.id}}/overview" class=" text-size-normal nav-link" role="button">Overview</a>
                        </li>
                        <li class="nav-item nav-link">
                            <a href="/dashboard/{{guilds.id}}/generalsettings" class=" text-size-normal nav-link active" role="button">General Settings</a>
                        </li>
                        <li class="nav-item nav-link">
                            <a href="/dashboard/{{guilds.id}}/logs" class=" text-size-normal nav-link" role="button">Logssettings</a>
                        </li>
                        <li class="nav-item nav-link">
                            <a href="/dashboard/{{guilds.id}}/modules" class=" text-size-normal nav-link" role="button">Modules</a>
                        </li>
                        <li class="nav-item nav-link">
                            <a href="/dashboard/{{guilds.id}}/chatfilter" class=" text-size-normal nav-link" role="button">Chatfilter</a>
                        </li>
                        <li class="nav-item nav-link">
                            <a href="/dashboard/{{guilds.id}}/music" class=" text-size-normal nav-link" role="button">Music</a>
                        </li>
                        <li class="nav-item nav-link">
                            <a href="/dashboard/{{guilds.id}}/application" class=" text-size-normal nav-link" role="button">Application</a>
                        </li>
                        <li class="nav-item nav-link">
                            <a href="#" class=" text-size-normal nav-link" role="button">Tickets
                                <span class="label label-danger">INCOMING</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
            <div class="col-sm-9">
                <div class="panel-group panel-group-dashboard">
                    <div class="panel panel-primary panel-dashboard" style="max-height: 200px;">
                        <div class="panel-heading">
                            <p class="text text-white text-size-normal">Prefix</p>
                        </div>
                        <div class="panel-body">
                            <form class="form-vertical" action="/dashboard/{{guilds.id}}/generalsettings/submitprefix" method="POST">
                                <div class="form-group">
                                    <label class="control-label col-sm-3" for="newprefix">New prefix:</label>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" id="newprefix" name="newprefix" pattern=".{1,}" required value="{{guilds.prefix}}">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10" style="margin-top: 20px;">
                                        <button type="submit" class="btn btn-default">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="panel panel-primary panel-dashboard">
                        <div class="panel-heading">
                            <p class="text text-white text-size-normal">Language</p>
                        </div>
                        <div class="panel-body">
                            <form class="form-horizontal" action="/dashboard/{{guilds.id}}/generalsettings/submitlanguage" method="POST">
                                <div class="form-group">
                                    <label class="control-label col-sm-3" for="newlanguage">Set language of the bot:</label>
                                    <div class="col-sm-4">
                                        <select required class="form-control custom-select custom-select-lg mb-3 selectpicker" name="newlanguage">
                                            {{#each languages}} {{#if set}}
                                            <option value="{{alias}}" selected>{{name}}</option>
                                            {{else}}
                                            <option value="{{alias}}">{{name}}</option>
                                            {{/if}} {{/each}}
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-3 col-sm-10">
                                        <button type="submit" class="btn btn-default">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="panel panel-primary panel-dashboard">
                        <div class="panel-heading">
                            <p class="text text-white text-size-normal">Welcome Message</p>
                        </div>
                        <div class="panel-body">
                            <form class="form-horizontal" action="/dashboard/{{guilds.id}}/generalsettings/submitwelcomemsg" method="POST">
                                <div class="form-group">
                                    <label class="control-label col-sm-3" for="newwelcomemsg">Set a new welcome message:</label>
                                    <div class="col-sm-9">
                                        <textarea class="form-control" name="newwelcomemsg" rows="3">{{guilds.welcomemsg}}</textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-3 col-sm-10">
                                        <button type="submit" class="btn btn-default">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="panel panel-primary panel-dashboard">
                        <div class="panel-heading">
                            <p class="text text-white text-size-normal">Bye Message</p>
                        </div>
                        <div class="panel-body">
                            <form class="form-horizontal" action="/dashboard/{{guilds.id}}/generalsettings/submitbyemsg" method="POST">
                                <div class="form-group">
                                    <label class="control-label col-sm-3" for="newbyemsg">Set a new bye message:</label>
                                    <div class="col-sm-9">
                                        <textarea class="form-control" name="newbyemsg" rows="3">{{guilds.byemsg}}</textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-3 col-sm-10">
                                        <button type="submit" class="btn btn-default">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="panel panel-primary panel-dashboard">
                        <div class="panel-heading">
                            <p class="text text-white text-size-normal">Toggle XP</p>
                        </div>
                        <div class="panel-body">
                            <form class="form-horizontal" action="/dashboard/{{guilds.id}}/generalsettings/submittogglexp" method="POST">
                                <div class="form-group">
                                    <label class="control-label col-sm-3" for="newtogglexp">Set channels where XP don't count:</label>
                                    <div class="col-sm-4">
                                        <select required class="form-control custom-select custom-select-lg mb-3 selectpicker selectpicker" name="newtogglexp" data-live-search="true"
                                            multiple title="Choose channel(s)" data-actions-box="true" data-size="7">
                                            {{#each channels}} {{#if togglexpset}}
                                            <option value="{{name}}" selected>{{name}}</option>
                                            {{else}}
                                            <option value="{{name}}">{{name}}</option>
                                            {{/if}} {{/each}}
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-3 col-sm-10">
                                        <button type="submit" class="btn btn-default">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="panel panel-primary panel-dashboard">
                        <div class="panel-heading">
                            <p class="text text-white text-size-normal">Self-assignable roles</p>
                        </div>
                        <div class="panel-body">
                            <form class="form-horizontal" action="/dashboard/{{guilds.id}}/generalsettings/submitselfassignableroles" method="POST">
                                <div class="form-group">
                                    <label class="control-label col-sm-3" for="newselfassignableroles">Self-assignable roles:</label>
                                    <div class="col-sm-4">
                                        <select required class="form-control custom-select custom-select-lg mb-3 selectpicker selectpicker" name="newselfassignableroles"
                                            data-live-search="true" multiple title="Choose channel(s)" data-actions-box="true"
                                            data-size="7">
                                            {{#each roles}} {{#if selfassignablerolesset}}
                                            <option value="{{name}}" selected>{{name}}</option>
                                            {{else}}
                                            <option value="{{name}}">{{name}}</option>
                                            {{/if}} {{/each}}
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-3 col-sm-10">
                                        <button type="submit" class="btn btn-default">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>


<footer>
    <nav class="footer-navigation">
        <p target="blank" class="text text-size-small text-white">&copy; LenoxBot
        </p>
        <a id="twitter" target="blank" class="text text-size-small text-white" href="https://twitter.com/lenoxbot">
            <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
    </nav>
</footer>